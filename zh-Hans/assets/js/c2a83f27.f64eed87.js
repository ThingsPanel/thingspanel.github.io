"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[9396],{3905:(e,t,r)=>{r.d(t,{Zo:()=>s,kt:()=>f});var n=r(7294);function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t){if(null==e)return{};var r,n,l=function(e,t){if(null==e)return{};var r,n,l={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(l[r]=e[r]);return l}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}var c=n.createContext({}),p=function(e){var t=n.useContext(c),r=t;return e&&(r="function"==typeof e?e(t):a(a({},t),e)),r},s=function(e){var t=p(e.components);return n.createElement(c.Provider,{value:t},e.children)},u="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var r=e.components,l=e.mdxType,i=e.originalType,c=e.parentName,s=o(e,["components","mdxType","originalType","parentName"]),u=p(r),d=l,f=u["".concat(c,".").concat(d)]||u[d]||m[d]||i;return r?n.createElement(f,a(a({ref:t},s),{},{components:r})):n.createElement(f,a({ref:t},s))}));function f(e,t){var r=arguments,l=t&&t.mdxType;if("string"==typeof e||l){var i=r.length,a=new Array(i);a[0]=d;var o={};for(var c in t)hasOwnProperty.call(t,c)&&(o[c]=t[c]);o.originalType=e,o[u]="string"==typeof e?e:l,a[1]=o;for(var p=2;p<i;p++)a[p]=r[p];return n.createElement.apply(null,a)}return n.createElement.apply(null,r)}d.displayName="MDXCreateElement"},5100:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>c,contentTitle:()=>a,default:()=>m,frontMatter:()=>i,metadata:()=>o,toc:()=>p});var n=r(7462),l=(r(7294),r(3905));const i={sidebar_position:6},a="RTMP\u6444\u50cf\u5934\u63a5\u5165",o={unversionedId:"device-connect/rtmp",id:"device-connect/rtmp",title:"RTMP\u6444\u50cf\u5934\u63a5\u5165",description:"RTMP\uff08Real-Time Messaging Protocol\uff09\u6444\u50cf\u5934\u662f\u6307\u4f7f\u7528RTMP\u534f\u8bae\u8fdb\u884c\u89c6\u9891\u4f20\u8f93\u7684\u6444\u50cf\u5934\u8bbe\u5907\u3002RTMP\u662f\u4e00\u79cd\u5b9e\u65f6\u6d41\u5a92\u4f53\u4f20\u8f93\u534f\u8bae\uff0c\u6700\u521d\u7531Adobe\u5f00\u53d1\uff0c\u7528\u4e8e\u5728\u4e92\u8054\u7f51\u4e0a\u5b9e\u73b0\u97f3\u89c6\u9891\u7684\u4f20\u8f93\u548c\u64ad\u653e\u3002",source:"@site/docs/device-connect/rtmp.md",sourceDirName:"device-connect",slug:"/device-connect/rtmp",permalink:"/zh-Hans/docs/device-connect/rtmp",draft:!1,editUrl:"https://github.com/ThingsPanel/thingspanel.github.io/tree/source/docs/device-connect/rtmp.md",tags:[],version:"current",sidebarPosition:6,frontMatter:{sidebar_position:6},sidebar:"tutorialSidebar",previous:{title:"CoAP\u63a5\u5165",permalink:"/zh-Hans/docs/device-connect/coap"},next:{title:"UDP\u63a5\u5165",permalink:"/zh-Hans/docs/device-connect/udp"}},c={},p=[{value:"\u51c6\u5907\u5de5\u4f5c",id:"\u51c6\u5907\u5de5\u4f5c",level:2},{value:"\u64cd\u4f5c\u6b65\u9aa4",id:"\u64cd\u4f5c\u6b65\u9aa4",level:2},{value:"1\u3001\u642d\u5efaSRS",id:"1\u642d\u5efasrs",level:3},{value:"2\u3001\u63a8\u6d41",id:"2\u63a8\u6d41",level:3},{value:"3\u3001\u5728ThingsPanel\u4e2d\u4f7f\u7528\u89c6\u9891\u5730\u5740\u63d2\u4ef6\u64ad\u653e",id:"3\u5728thingspanel\u4e2d\u4f7f\u7528\u89c6\u9891\u5730\u5740\u63d2\u4ef6\u64ad\u653e",level:3}],s={toc:p},u="wrapper";function m(e){let{components:t,...i}=e;return(0,l.kt)(u,(0,n.Z)({},s,i,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("h1",{id:"rtmp\u6444\u50cf\u5934\u63a5\u5165"},"RTMP\u6444\u50cf\u5934\u63a5\u5165"),(0,l.kt)("p",null,"RTMP\uff08Real-Time Messaging Protocol\uff09\u6444\u50cf\u5934\u662f\u6307\u4f7f\u7528RTMP\u534f\u8bae\u8fdb\u884c\u89c6\u9891\u4f20\u8f93\u7684\u6444\u50cf\u5934\u8bbe\u5907\u3002RTMP\u662f\u4e00\u79cd\u5b9e\u65f6\u6d41\u5a92\u4f53\u4f20\u8f93\u534f\u8bae\uff0c\u6700\u521d\u7531Adobe\u5f00\u53d1\uff0c\u7528\u4e8e\u5728\u4e92\u8054\u7f51\u4e0a\u5b9e\u73b0\u97f3\u89c6\u9891\u7684\u4f20\u8f93\u548c\u64ad\u653e\u3002"),(0,l.kt)("p",null,"RTMP\u6444\u50cf\u5934\u901a\u8fc7\u5c06\u89c6\u9891\u6570\u636e\u7f16\u7801\u4e3aRTMP\u6d41\uff0c\u5e76\u901a\u8fc7\u7f51\u7edc\u4f20\u8f93\u5230\u670d\u52a1\u5668\uff0c\u5b9e\u73b0\u5b9e\u65f6\u7684\u89c6\u9891\u4f20\u8f93\u548c\u76f4\u64ad\u3002\u8fd9\u79cd\u6444\u50cf\u5934\u901a\u5e38\u5305\u542b\u5185\u7f6e\u7684\u7f16\u7801\u5668\uff0c\u53ef\u4ee5\u5c06\u89c6\u9891\u6570\u636e\u538b\u7f29\u4e3aRTMP\u683c\u5f0f\uff0c\u7136\u540e\u901a\u8fc7\u7f51\u7edc\u53d1\u9001\u5230\u6307\u5b9a\u7684\u670d\u52a1\u5668\u3002\u6444\u50cf\u5934\u8fd8\u53ef\u80fd\u5305\u542b\u9ea6\u514b\u98ce\u548c\u97f3\u9891\u7f16\u7801\u5668\uff0c\u4ee5\u652f\u6301\u540c\u65f6\u4f20\u8f93\u97f3\u9891\u548c\u89c6\u9891\u3002"),(0,l.kt)("h2",{id:"\u51c6\u5907\u5de5\u4f5c"},"\u51c6\u5907\u5de5\u4f5c"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u642d\u5efa\u670d\u52a1"),(0,l.kt)("li",{parentName:"ul"},"\u51c6\u5907RTMP\u6444\u50cf\u5934\uff0c\u6d4b\u8bd5\u53ef\u4f7f\u7528FFmpeg\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u5f00\u653e\u7aef\u53e3\uff0c\u5206\u522b\u662f1935\u30011985\u30018080")),(0,l.kt)("h2",{id:"\u64cd\u4f5c\u6b65\u9aa4"},"\u64cd\u4f5c\u6b65\u9aa4"),(0,l.kt)("h3",{id:"1\u642d\u5efasrs"},"1\u3001\u642d\u5efaSRS"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"docker run --rm -it -p 1935:1935 -p 1985:1985 -p 8080:8080 \\\nregistry.cn-hangzhou.aliyuncs.com/ossrs/srs:4 ./objs/srs -c conf/docker.conf\n")),(0,l.kt)("p",null,"\u9700\u8981\u6253\u5f00 1935 1985 8080 3\u4e2a\u7aef\u53e3"),(0,l.kt)("p",null,"\u8bbf\u95ee\u670d\u52a1\u5668\u7f51\u5740\u76848080\u7aef\u53e3"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"http://124.223.111.248:8080/"},"http://124.223.111.248:8080/")),(0,l.kt)("p",null,"\u7cfb\u7edf\u63d0\u793a\uff0c\u63a8\u6d41\u5230rtmp://124.223.111.248/live/livestream"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"SRS\u5b89\u88c5\u754c\u9762",src:r(8629).Z,width:"425",height:"321"})),(0,l.kt)("h3",{id:"2\u63a8\u6d41"},"2\u3001\u63a8\u6d41"),(0,l.kt)("p",null,"\u5982\u4e0b\u4f7f\u7528FFmpeg\u6a21\u62df\u6444\u50cf\u5934\u8fdb\u884c\u63a8\u6d41\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"ffmpeg -re -i ElectricityMeter.mp4 -c copy -f flv  rtmp://124.223.111.248/live/livestream\n")),(0,l.kt)("p",null,"\u63a8\u6d41\u4e4b\u540e\uff0c\u5728srs\u7684\u540e\u53f0\u53ef\u83b7\u5f973\u4e2a\u5730\u5740\uff1a\n\u67e5\u770b\u64ad\u653e\u5730\u5740"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"RTMP (by VLC): rtmp://124.223.111.248/live/livestream"),(0,l.kt)("li",{parentName:"ul"},"H5 FLV :",(0,l.kt)("a",{parentName:"li",href:"http://124.223.111.248:8080/live/livestream.flv"},"http://124.223.111.248:8080/live/livestream.flv")),(0,l.kt)("li",{parentName:"ul"},"H5(HLS): ",(0,l.kt)("a",{parentName:"li",href:"http://124.223.111.248:8080/live/livestream.m3u8"},"http://124.223.111.248:8080/live/livestream.m3u8"))),(0,l.kt)("h3",{id:"3\u5728thingspanel\u4e2d\u4f7f\u7528\u89c6\u9891\u5730\u5740\u63d2\u4ef6\u64ad\u653e"},"3\u3001\u5728ThingsPanel\u4e2d\u4f7f\u7528\u89c6\u9891\u5730\u5740\u63d2\u4ef6\u64ad\u653e"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"\u5728ThingsPanel\u4e2d\u64ad\u653eRTMP\u89c6\u9891\u6d41",src:r(3306).Z,width:"1536",height:"761"})))}m.isMDXComponent=!0},3306:(e,t,r)=>{r.d(t,{Z:()=>n});const n=r.p+"assets/images/playRtmpVideo-23144960fffa4621b9d62645d47a467f.png"},8629:(e,t,r)=>{r.d(t,{Z:()=>n});const n=r.p+"assets/images/srs-780b87a76ffdeac525b219b16e373a52.png"}}]);