---
sidebar_position: 6
---

# 自动化

## 功能介绍

ThingsPanel的自动化包括场景联动与场景管理。

场景联动：添加和编辑场景联动的规则，包括设备触发和时间触发两种。
场景管理：添加可被批量管理的设备。

具体介绍如下：

## 场景联动

功能说明：实现设备自动化管理、设定报警、并发送告警。

### 场景联动列表功能点

* 支持任务的启动和停止
* 添加和编辑任务
* 查看场景联动日志
![img.png](images/B.png)
* 查看场景联动日志详情
![img.png](images/C.png)
* 删除任务
* 新增规则

功能说明：实现设备自动化管理、设定报警、并发送告警。

### 场景联动规则说明

如果是触发条件，那么是执行动作；
触发条件可以选择设备条件和时间条件。
![img.png](images/A.png)

**设备条件**：

- 设备的属性、事件、上下线；

**时间条件**：

- 单次；
- 重复，包括：
    1. 每小时每小时的第几分钟执行；
    2. 每天每天的几点几分执行；
    3. 每周每周几的几点几分（需要选择星期）；
    4. 每月每月几号的几点几分；
    5. 自定义cron
- 单次（执行后自动删除），时间格式为yyyy-MM-dd HH:mm:ss。

|cron|描述|
|-|-|
|0/2 * * * *|每2分钟触发|
|0 0/2 * * *|每两小时触发|
|15 10 * * *|每天上午的10:15触发|
|0/5 14 * * *|在每天下午2点到下午2:55期间的每5分钟触发|
|0/5 14,18 * * *|在每天下午2点到2:55期间和下午6点到6:55期间的每5分钟触发|
|15 10 ? * MON-FRI|周一至周五的上午10:15触发|
|15 10 15 * *|每月15日上午10:15触发|

**执行器**：

- 操作设备：下发指令给设备
- 激活场景：激活某个场景
- 触发告警：
  * 告警级别：高、中、低
  * 通知用户
  * 重复多次之后才触发告警


* 通知方式
## 场景管理

- 场景管理用于批量的控制设备，一次可以添加多个设备并设置状态，方便随后进行批量控制 。
- 场景可以被时间和设备触发。
- 在智能家居中，可设立例如离家模式、阅读模式、休息模式。
- 在工业场景中，可以设立例如工作模式、下班模式等

**功能说明：**
* 场景列表：列出添加的各种场景，支持跨项目场景。
* 场景日志：查看场景执行的情况。
* 新增场景： 批量添加可控的设备并添加状态
* 删除场景： 删除不需要的场景，不可恢复。
