---
sidebar_position: 6
---

# 自动化

## 功能介绍

ThingsPanel的自动化包括场景联动与场景管理。

场景联动：添加和编辑场景联动的规则，包括设备触发和时间触发两种。
场景管理：添加可被批量管理的设备。

具体介绍如下：

## 场景管理

场景管理用于批量的控制设备，一次可以添加多个设备并设置状态，方便随后进行批量控制 。

场景可以被时间和设备触发。

在智能家居中，可设立例如离家模式、阅读模式、休息模式。

在工业场景中，可以设立例如工作模式、下班模式等

* 场景列表：列出添加的各种场景，支持跨项目场景。
* 场景日志：查看场景执行的情况。
* 新增场景： 批量添加可控的设备并添加状态
* 删除场景： 删除不需要的场景，不可恢复。

## 场景联动

功能说明：实现设备自动化管理、设定报警、并发送告警。

场景联动列表功能点

* 支持任务的启动和停止
* 添加和编辑任务
* 查看任务日志
* 删除任务
* 新增规则

添加场景联动规则，具体的功能点有：

* 时间触发
  * 单次
    * 例如：2023 年 03 月 02 日 08:28
  * 重复
    * 每小时
    * 每天
    * 每周
    * 每月
    * 支持 Cron 指令
      * 0/2 * * * * 每 2 分钟触发
      * 0 0/2 * * * 每两小时触发
      * 15 10 * * * 每天上午的 10:15 触发
      * 0/5 14 * * * 在每天下午 2 点到下午 2:55 期间的每 5 分钟触发
      * 0/5 14,18 * * * 在每天下午 2 点到 2:55 期间和下午 6 点到 6:55 期间的每 5 分钟触发
      * 15 10 ? * 周一至周五的上午 10:15 触发
      * 15 10 15 * * 每月 15 日上午 10:15 触发
* 范围
  * 例如：2023 年 03 月 02 日 08:28 - 例如：2023 年 03 月 03 日 08:28
* 设备触发
  * 属性触发
  * 上下线触发
  * 状态触发
  * 状态持续时间触发
* 触发包括或 / 且两种关系，可以增加多个
* 规则执行的优先级设定
  * 执行器包括
    * 操作设备：下发指令给设备
    * 激活场景：激活某个场景
    * 触发告警：
      * 告警级别：高、中、低
      * 通知用户
      * 重复多次之后才触发告警
* 通知方式