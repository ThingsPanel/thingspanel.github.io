---
sidebar_position: 4
---

# 测试报告

**1. 测试背景**

为了业务对ThingsPanel稳定性和高并发的需求，我们搭建了高稳定性和扩展性的集群。本次测试的主要目标是验证新架构下的系统稳定性和高并发处理能力。

![](./../img/DockerSwarm.png)
---

**2. 测试环境**

**服务器配置**

|机型|CPU|内存|硬盘|说明|
|-|-|-|-|-|
|云服务器1|Intel(R) Xeon(R) Platinum 8269CY CPU @ 2.50GHz 4核|8G|ESSD云盘 PL0 40GiB (2280 IOPS)|Cassandra数据库、VerneMQ等服务|
|云服务器2|Intel(R) Xeon(R) Platinum 8269CY CPU @ 2.50GHz 4核|8G|ESSD云盘 PL0 40GiB (2280 IOPS)|Cassandra数据库、VerneMQ等服务|
|云服务器3|Intel(R) Xeon(R) Platinum 8269CY CPU @ 2.50GHz 4核|8G|ESSD云盘 PL0 40GiB (2280 IOPS)|应用平台以及协议插件等服务|

**设备相关**
- **设备数量**：5000台和10000台设备分别进行测试。
- **数据频率**：每台设备每6.4秒推送16个数据点。

---

**3. 测试结果**

| 设备数量 | 写入速度  | CPU使用率（%） | 内存使用率（%） | 内网带宽 |云盘读写BPS|
|:-------:|:---------:|:--------------:|:--------------:|:-------:|:-------:|
| 5000    | 12000/s   | 36 / 37 / 40   | 35 / 37 / 17   | 25M     |38M|
| 10000    | 25000/s   | 72 / 73 / 82   | 45 / 48 / 17   |48M     |76M|

---

**4. 分析与结论**

- **性能稳定性**：不论是5000台还是10000台设备规模，服务器均展现出强劲的处理性能与稳定性。
  
- **资源利用**：设备数量增加一倍时，CPU与内存的使用率变动较小，显示出系统的优异的扩展能力。

- **带宽使用**：带宽使用与数据写入速度保持正比，证实了平台数据处理与网络传输的高效性。

- **预测**：假设每台设备每分钟推送一次（而非6秒）每次4（而非16）个数据点，即减少10倍的推送频率和四倍数据点，理论上我们可以接入的设备数量将增加至40倍，这意味着在当前资源下，平台有能力支持达到400000台设备的稳定运行。


---

**5. 补充说明**

- 随着平台的持续优化和发展，我们将进行更加深入和细致的测试分析，以确保平台在各种应用场景中的高效性和稳定性。

---


如有疑问或需要更多信息，请随时与我们联系。
