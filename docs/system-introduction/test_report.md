---
sidebar_position: 4
---

# 测试报告

## 1. 测试背景与目的

为提高稳定性和并发能力，我们设计了高并发与高可用解决方案，并搭建集群环境。以验证ThingsPanel新架构下的系统稳定性和高并发处理能力，以确保其能够在各种压力条件下稳定运行，同时保持良好的性能表现。

### 测试重点
- **系统稳定性**：验证系统在高并发环境下的稳定性。
- **并发处理能力**：测试系统在不同设备数量下的处理能力。

## 2. 测试环境

### 服务器配置

| 机型     | CPU                                           | 内存 | 硬盘                      | 说明                                            |
|----------|-----------------------------------------------|------|---------------------------|-------------------------------------------------|
| 云服务器1 | Intel(R) Xeon(R) Platinum 8269CY CPU @ 2.50GHz 4核 | 8GB  | ESSD云盘 PL0 40GiB (2280 IOPS) | Cassandra数据库、VerneMQ、数据库和broker的插件应用 |
| 云服务器2 | Intel(R) Xeon(R) Platinum 8269CY CPU @ 2.50GHz 4核 | 8GB  | ESSD云盘 PL0 40GiB (2280 IOPS) | Cassandra数据库、VerneMQ、数据库和broker的插件应用 |
| 云服务器3 | Intel(R) Xeon(R) Platinum 8269CY CPU @ 2.50GHz 4核 | 8GB  | ESSD云盘 PL0 40GiB (2280 IOPS) | 应用平台、TimescaleDB、负载均衡器、测试脚本等       |

### 设备相关配置

- **设备数量**：分别以5000台和10000台设备进行测试。
- **数据频率**：每台设备每6.4秒推送16个数据点。

## 3. 测试结果

| 设备数量 | 写入速度 | CPU使用率（%） | 内存使用率（%） | 内网带宽 | 云盘读写BPS |
|----------|----------|-----------------|-----------------|----------|-------------|
| 5000台   | 12000/s  | 36 / 37 / 40    | 35 / 37 / 17    | 25M      | 38M         |
| 10000台  | 25000/s  | 72 / 73 / 82    | 45 / 48 / 17    | 48M      | 76M         |

测试期间，系统在稳定运行阶段，web操作流畅无卡顿，broker队列未出现数据积压，数据输出查询正常。

## 4. 分析与结论

### 性能稳定性分析
- 在5000台和10000台设备规模下，服务器展现出了强劲的处理性能和稳定性。
- 系统能够有效地处理高并发请求，未出现性能瓶颈。

### 资源利用分析
- 随着设备数量增加，CPU和内存使用率提升，但增幅合理，显示出系统的良好扩展能力。
- 内存使用率相对稳定，表明系统内存管理有效。

### 带宽使用分析
- 带宽使用与数据写入速度呈正比关系，说明平台在数据处理和网络传输方面高效稳定。

### 扩展性预测
- 基于当前测试结果，如果每台设备每分钟推送一次数据，每次推送4个数据点，相较于现有测试条件（每6秒推送16个数据点），理论上我们的系统能够支持高达400,000台设备的稳定运行。

## 5. 补充说明

### 持续优化与未来发展
- 我们将持续优化平台性能，并进行更深入和细致的测试。
- 这将包括不同的应用场景和环境下的测试，以确保平台在各种条件下都能保持高效性和稳定性。
- 我们也将关注资源利用效率的进一步提升，以支持更大规模的设备接入和数据处理。

### 结论
综上所述，ThingsPanel平台在新架构下展现了卓越的高并发处理能力和稳定性，其优化的资源利用和扩展能力使其成为适应各种高要求业务场景的理想选择。


如有疑问或需要更多信息，请随时与我们联系。
